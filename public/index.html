<!DOCTYPE html>
<html xmlns:tuna>
    <head>
        <meta charset="utf-8" />

        <title>Список задач</title>

        <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
    </head>
    <body>

        <!-- Контетнт -->

        <div class="container">
            <div class="page-header">
                <h1>
                    Список задач
                </h1>
            </div>

            <form class="j-form well form-inline"
                  data-name="add-task">

                <input type="text" class="input" name="task" placeholder="Что нужно сделать?" />
                <button type="submit" class="btn">Добавить</button>
            </form>

            <div class="j-template-transformer t-list-body hide well"
                 data-name="todo-list"
                 data-template-id="todo_list_template">

                <div class="alert alert-error">
                    Осталось задач: <strong>3</strong>
                </div>

                <ul class="j-button-group t-list nav nav-list"
                    data-name="task-controls"></ul>

                <hr />

                <button class="j-button btn" data-name="remove-done-tasks">
                    Удалить выполненные (<span>0</span>)
                </button>
            </div>

        </div>

        <!-- Шаблоны -->

        <div class="j-isolator hide">

            <tuna:template id="todo_list_template">
                <tuna:if tuna:target=".t-list-body"
                         tuna:path="list/length" tuna:eq="0"
                         tuna:class="hide" />

                <tuna:list tuna:target=".t-list"
                           tuna:path="list"
                           tuna:item-renderer-id="task_renderer"
                           tuna:item-template-id="task_template"
                           tuna:key-path="$key" />

            </tuna:template>

            <tuna:template id="task_template">
                <tuna:spot tuna:target=".t-task-text" tuna:path="text" />
                <tuna:checkbox tuna:target=".t-is-task-done" tuna:path="isDone" />

                <tuna:attr tuna:name="data-task-index"
                           tuna:target=".t-key-data"
                           tuna:path="$key" />
            </tuna:template>

            <ul>
                <li id="task_renderer">
                    <a class="clearfix">
                        <label class="j-button t-key-data checkbox pull-left"
                               data-action="done"
                               data-task-index="">

                            <input type="checkbox" class="t-is-task-done" />
                            <span class="t-task-text"></span>
                        </label>
                        <i class="j-button t-key-data icon-trash pull-right"
                           data-action="remove"
                           data-task-index=""></i>
                    </a>
                </li>
            </ul>

        </div>


        <!--[if IE]>
            <script type="text/javascript" src="js/json.js"></script>
        <![endif]-->

        <script type="text/javascript" src="js/sizzle.js"></script>
        <script type="text/javascript" src="js/app.js"></script>

        <script type="text/javascript">
            main(document.body);
        </script>

    </body>
</html>